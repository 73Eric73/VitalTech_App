<h2 mat-dialog-title>
  <!-- si se envía un piso (es decir, se clica en "actualizar") se cargará en el dialog el texto  "Detalles..."
   si no, el de añadir nueva planta:
  -->
{{ data.id ? 'Detalles de Prueba Diagnostica' : 'Agregar Prueba Diagnostica'}}
</h2>
<mat-dialog-content>
<form [formGroup]="plantaForm" style="margin-top: 20px">
  <br />
  <mat-form-field appearance="outline">
    <mat-label>Medico:</mat-label>
    <input matInput formControlName="dolencia" required />
  </mat-form-field>
  <br />
  <mat-form-field appearance="outline">
    <mat-label>Enfermero:</mat-label>
    <input matInput formControlName="pruebas" required />
  </mat-form-field>
  <br />
  <mat-form-field appearance="outline">
    <mat-label>Episodio Médico:</mat-label>
    <input matInput formControlName="resultados" required />
  </mat-form-field>
  <br />
  <mat-form-field appearance="outline">
    <mat-label>Dolencia:</mat-label>
    <input matInput formControlName="dolencia" required />
  </mat-form-field>
  <br />
  <mat-form-field appearance="outline">
    <mat-label>Pruebas:</mat-label>
    <input matInput formControlName="pruebas" required />
  </mat-form-field>
  <br />
  <mat-form-field appearance="outline">
    <mat-label>Resultados:</mat-label>
    <input matInput formControlName="resultados" required />
  </mat-form-field>

  <br />

  <mat-form-field appearance="outline">
    <mat-label>Correcta:</mat-label>
    <input matInput formControlName="correcta" required />
  </mat-form-field>

  <br />
  <mat-dialog-actions>
    <!-- Botón Actualizar: Solo visible si se está en modo detalles -->
    @if(data.piso && !isEditing){
    <button mat-button (click)="enableEditing()">Editar</button>
    }
    <!-- Botón Guardar: Solo visible en modo edición -->
    @if (isEditing){
    <button
      mat-raised-button
      color="primary"
      [disabled]="plantaForm.invalid"
      (click)="guardar()"
    >
      Guardar
    </button>
    }

    <!-- Botón Cancelar: Siempre visible, cambia comportamiento según el modo -->
    <button mat-button (click)="cancelar()">Cancelar</button>
  </mat-dialog-actions>
</form>
</mat-dialog-content>

